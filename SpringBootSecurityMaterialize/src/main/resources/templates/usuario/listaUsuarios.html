<!DOCTYPE html>
<html xmlns:th="http://thymeleaf.org"
	  xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
	  xmlns:sec="http://www.thymeleaf.org/thymeleaf-extras-springsecurity4">
<head>
	<title>EventosApp</title>
	 <!--Import Google Icon Font-->
      <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet"/>
      <!--Import materialize.css-->
      <link type="text/css" rel="stylesheet" href="materialize/css/materialize.min.css"  media="screen,projection"/>

      <!--Let browser know website is optimized for mobile-->
      <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
      <link rel="stylesheet" href="style/styleCss.css"/>
</head>
<body>
	<div layout:fragment="content">
		<div class="page-header">
			<h1><span sec:authentication="principal.login"></span>, Bem vindo ao sistema!</h1>
		</div>
	</div>	
	<header>
		<nav class="menu">
		    <div class="nav-wrapper">
		      <a href="#" class="brand-logo">Lista de Usuarios</a>
		      <ul id="nav-mobile" class="right hide-on-med-and-down">
		        <!-- deveria esconder quando nao tiver autorizado, mas nao funciona ainda
		         deveria funcionar com framework thymeleaf declarado no inicioa da pagina-->
		        <li><a href="/cadastrarUsuario" class="waves-effect waves-light btn"><i class="material-icons left">add_circle_outline</i>Cadastrar Usuario</a></li>
		        <li><a href="/logout" class="waves-effect waves-light btn"><i class="material-icons left">add_circle_outline</i>Sair</a></li>
		      </ul>
		    </div>
		</nav>
	
	</header>
	<table class="container">
		<thead>
			<tr>
				<th>Nome</th>
				<th>Login</th>
				<th>Senha</th>
			</tr>
		</thead>
		<tbody>
			<tr th:each="usuario : ${usuarios}">
			    <td><a href="#" th:href="@{/detalhesUsuario/{login}(login=${usuario.login})}"><span th:text="${usuario.nomeCompleto}"></span></a> </td>
				<td><span th:text="${usuario.login}"></span></td>
				<td><span th:text="${usuario.senha}"></span></td>
				<!-- td><a class="waves-effect waves-light btn-small" th:href="${(#mvc.url('EC#deletarUsuario').arg(0, usuario.login)).build()}"><i class="material-icons left">delete</i></a></td-->
			</tr>
		</tbody>
	
	</table>

	<script type="text/javascript" src="https://code.jquery.com/jquery-3.2.1.min.js"></script>
    <script type="text/javascript" src="materialize/js/materialize.min.js"></script>

</body>


</html>